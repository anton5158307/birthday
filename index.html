<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <button class="top-heart-button" onclick="playHeartSound()">
        üíñ –° —Ç–≤–æ–∏–º –¥–Ω–µ–º! üíñ
    </button>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫ -->
    <div id="hearts-container"></div>

    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –ø–µ—Ä–≤–æ–π –∫–Ω–æ–ø–∫–æ–π -->
    <div id="start-screen" class="screen active">
        <h1>–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –º–æ—è –ª—é–±–∏–º–∞—è ‚ú®</h1>
        <p class="instruction">—Ç–∞–ø —Ç–∞–ø</p>
        <button class="heartbeat-button" onclick="showNextButton(1)">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ—è–≤–ª—è—é—â–∏—Ö—Å—è –∫–Ω–æ–ø–æ–∫ -->
    <div id="buttons-container"></div>

    <!-- –ê—É–¥–∏–æ –¥–ª—è –∑–≤—É–∫–∞ —Å–µ—Ä–¥—Ü–∞ -->
    <audio id="heart-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-heartbeat-1214.mp3" type="audio/mpeg">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
    </audio>

    <script>
        // –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø: –°–û–ó–î–ê–Å–ú –ú–ù–û–ñ–ï–°–¢–í–û –°–ï–†–î–ï–ß–ï–ö, –ö–û–¢–û–†–´–ï –°–†–ê–ó–£ –£–õ–ï–¢–ê–Æ–¢
        function createFlyingHearts() {
            const container = document.getElementById('hearts-container');
            if (!container) {
                console.error('–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }
            
            console.log('–°–æ–∑–¥–∞—ë–º –ª–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏...');
            
            // –ö–û–õ–ò–ß–ï–°–¢–í–û –°–ï–†–î–ï–ß–ï–ö (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å)
            const heartCount = 60;
            
            // –°–û–ó–î–ê–Å–ú –°–ï–†–î–ï–ß–ö–ò, –ö–û–¢–û–†–´–ï –°–†–ê–ó–£ –£–õ–ï–¢–ê–Æ–¢
            for (let i = 0; i < heartCount; i++) {
                createFlyingHeart(container, i);
            }
            
            console.log(`–°–æ–∑–¥–∞–Ω–æ ${heartCount} –ª–µ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫`);
            
            // –ó–ê–ü–£–°–ö–ê–ï–ú –ü–û–°–¢–û–Ø–ù–ù–û–ï –°–û–ó–î–ê–ù–ò–ï –ù–û–í–´–• –°–ï–†–î–ï–ß–ï–ö
            startContinuousHearts();
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ —É–ª–µ—Ç–∞—é—â–µ–≥–æ —Å–µ—Ä–¥–µ—á–∫–∞
        function createFlyingHeart(container, index) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä (15-50px)
            const size = 15 + Math.random() * 35;
            heart.style.width = size + 'px';
            heart.style.height = size + 'px';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ø–æ –≤—Å–µ–π –≤—ã—Å–æ—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
            const startX = Math.random() * 100; // 0-100%
            const startY = 20 + Math.random() * 80; // 20-100% (–Ω–µ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ)
            
            heart.style.setProperty('--start-x', startX + 'vw');
            heart.style.setProperty('--start-y', startY + 'vh');
            
            // –°–ª—É—á–∞–π–Ω—ã–π –¥—Ä–µ–π—Ñ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
            const driftX = (Math.random() - 0.5) * 100;
            heart.style.setProperty('--drift-x', driftX + 'px');
            
            // –°–ª—É—á–∞–π–Ω—ã–π –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            const startScale = 0.6 + Math.random() * 0.4;
            heart.style.setProperty('--start-scale', startScale);
            
            // –°–ª—É—á–∞–π–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
            const startOpacity = 0.5 + Math.random() * 0.5;
            heart.style.setProperty('--start-opacity', startOpacity);
            heart.style.opacity = startOpacity;
            
            // –°–ª—É—á–∞–π–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ (5-15 —Å–µ–∫—É–Ω–¥)
            const duration = 5 + Math.random() * 10;
            
            // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º (0-3 —Å–µ–∫—É–Ω–¥—ã)
            const delay = Math.random() * 3;
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —É–ª–µ—Ç–∞–Ω–∏—è
            heart.style.animation = `float-up-heart ${duration}s ease-in-out ${delay}s forwards`;
            
            container.appendChild(heart);
            
            // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                if (heart.parentNode === container) {
                    heart.remove();
                }
            }, (duration + delay) * 1000);
            
            return heart;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è —Å–Ω–∏–∑—É
        function createRisingHeart() {
            const container = document.getElementById('hearts-container');
            
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            const size = 20 + Math.random() * 40;
            heart.style.width = size + 'px';
            heart.style.height = size + 'px';
            
            // –ù–∞—á–∏–Ω–∞–µ–º —Å–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = '100%';
            
            // –°–ª—É—á–∞–π–Ω—ã–π –¥—Ä–µ–π—Ñ
            const driftX = (Math.random() - 0.5) * 80;
            heart.style.setProperty('--drift-x', driftX + 'px');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥—ä—ë–º–∞
            const duration = 8 + Math.random() * 12;
            heart.style.animation = `float-up-fast ${duration}s linear forwards`;
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
            heart.style.opacity = 0.7 + Math.random() * 0.3;
            
            container.appendChild(heart);
            
            // –£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                if (heart.parentNode) heart.remove();
            }, duration * 1000);
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫
        function startContinuousHearts() {
            // –°–æ–∑–¥–∞—ë–º —Å–µ—Ä–¥–µ—á–∫–∏ —Å–Ω–∏–∑—É –∫–∞–∂–¥—ã–µ 2-5 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                // –°–æ–∑–¥–∞—ë–º 1-3 —Å–µ—Ä–¥–µ—á–∫–∞ –∑–∞ —Ä–∞–∑
                const count = 1 + Math.floor(Math.random() * 3);
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        createRisingHeart();
                    }, i * 300);
                }
            }, 2000 + Math.random() * 3000);
            
            // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë–º –≤–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫
            setInterval(() => {
                createRandomHeartBurst();
            }, 8000 + Math.random() * 7000);
        }
        
        // –°–ª—É—á–∞–π–Ω—ã–π –≤–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
        function createRandomHeartBurst() {
            const container = document.getElementById('hearts-container');
            const x = Math.random() * 80 + 10; // 10-90%
            const y = Math.random() * 80 + 10; // 10-90%
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    
                    heart.style.left = x + '%';
                    heart.style.top = y + '%';
                    
                    const size = 15 + Math.random() * 25;
                    heart.style.width = size + 'px';
                    heart.style.height = size + 'px';
                    
                    const angle = Math.random() * 2 * Math.PI;
                    const distance = 40 + Math.random() * 60;
                    const translateX = Math.cos(angle) * distance;
                    const translateY = Math.sin(angle) * distance;
                    
                    heart.style.animation = `heartBurst 1.5s ease-out forwards`;
                    heart.style.setProperty('--translate-x', translateX + 'px');
                    heart.style.setProperty('--translate-y', translateY + 'px');
                    
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode) heart.remove();
                    }, 1500);
                }, i * 50);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∑—Ä—ã–≤–∞ —Å–µ—Ä–¥–µ—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∫–Ω–æ–ø–∫–∏
        function createHeartBurst() {
            const button = document.querySelector('.top-heart-button');
            const container = document.getElementById('hearts-container');
            
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                
                // –ü–æ–∑–∏—Ü–∏—è —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π
                const rect = button.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                heart.style.left = (centerX - 20) + 'px';
                heart.style.top = (centerY - 20) + 'px';
                
                // –†–∞–∑–º–µ—Ä
                const size = 20 + Math.random() * 30;
                heart.style.width = size + 'px';
                heart.style.height = size + 'px';
                
                // –†–∞–∑–ª–µ—Ç
                const angle = Math.random() * 2 * Math.PI;
                const distance = 50 + Math.random() * 100;
                const translateX = Math.cos(angle) * distance;
                const translateY = Math.sin(angle) * distance;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –≤–∑—Ä—ã–≤–∞
                heart.style.animation = `heartBurst 1.5s ease-out forwards`;
                heart.style.setProperty('--translate-x', translateX + 'px');
                heart.style.setProperty('--translate-y', translateY + 'px');
                
                container.appendChild(heart);
                
                // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    if (heart.parentNode) heart.remove();
                }, 1500);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–ª–µ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFlyingHeart(container, 1000 + i);
                }, i * 200);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞ —Å–µ—Ä–¥—Ü–∞
        function playHeartSound() {
            const heartSound = document.getElementById('heart-sound');
            if (heartSound) {
                heartSound.currentTime = 0;
                heartSound.play().catch(e => {
                    console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ");
                });
            }
            
            // –°–æ–∑–¥–∞–µ–º –≤–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫
            createHeartBurst();
        }
        
        // –ó–ê–ü–£–°–ö –í–°–ï–ì–û –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï –°–¢–†–ê–ù–ò–¶–´
        window.addEventListener('load', function() {
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞! –ó–∞–ø—É—Å–∫–∞–µ–º –ª–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏...');
            
            // 1. –°–æ–∑–¥–∞—ë–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ—Ä–¥–µ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–∑—É —É–ª–µ—Ç–∞—é—Ç
            createFlyingHearts();
            
            // 2. –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫
            document.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON' && e.target.innerText === '–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è') {
                    createButtonHearts(e.target);
                }
            });
            
            // 3. –¢–µ—Å—Ç–æ–≤—ã–π –≤–∑—Ä—ã–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            setTimeout(() => {
                createTestBurst();
            }, 1000);
        });
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫
        function createButtonHearts(button) {
            const container = document.getElementById('hearts-container');
            
            for (let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                
                const rect = button.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                heart.style.left = (centerX - 15) + 'px';
                heart.style.top = (centerY - 15) + 'px';
                
                const angle = Math.random() * 2 * Math.PI;
                const distance = 30 + Math.random() * 60;
                const translateX = Math.cos(angle) * distance;
                const translateY = Math.sin(angle) * distance;
                
                const size = 15 + Math.random() * 25;
                heart.style.width = size + 'px';
                heart.style.height = size + 'px';
                
                heart.style.animation = `heartBurst 1.2s ease-out forwards`;
                heart.style.setProperty('--translate-x', translateX + 'px');
                heart.style.setProperty('--translate-y', translateY + 'px');
                
                container.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) heart.remove();
                }, 1200);
            }
        }
        
        // –¢–µ—Å—Ç–æ–≤—ã–π –≤–∑—Ä—ã–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã
        function createTestBurst() {
            const container = document.getElementById('hearts-container');
            console.log('–¢–µ—Å—Ç–æ–≤—ã–π –≤–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—á–µ–∫ - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã');
            
            for (let i = 0; i < 10; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                
                // –í —Ü–µ–Ω—Ç—Ä–µ —ç–∫—Ä–∞–Ω–∞
                heart.style.left = '50%';
                heart.style.top = '50%';
                heart.style.transform = 'translate(-50%, -50%)';
                
                const size = 40 + Math.random() * 40;
                heart.style.width = size + 'px';
                heart.style.height = size + 'px';
                
                const angle = Math.random() * 2 * Math.PI;
                const distance = 60 + Math.random() * 90;
                const translateX = Math.cos(angle) * distance;
                const translateY = Math.sin(angle) * distance;
                
                heart.style.animation = `heartBurst 2s ease-out forwards`;
                heart.style.setProperty('--translate-x', translateX + 'px');
                heart.style.setProperty('--translate-y', translateY + 'px');
                
                container.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) heart.remove();
                }, 2000);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ
        function createHeartsAt(x, y, count = 10) {
            const container = document.getElementById('hearts-container');
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    
                    heart.style.left = x + 'px';
                    heart.style.top = y + 'px';
                    
                    const size = 15 + Math.random() * 25;
                    heart.style.width = size + 'px';
                    heart.style.height = size + 'px';
                    
                    const angle = Math.random() * 2 * Math.PI;
                    const distance = 30 + Math.random() * 70;
                    const translateX = Math.cos(angle) * distance;
                    const translateY = Math.sin(angle) * distance;
                    
                    heart.style.animation = `heartBurst 1s ease-out forwards`;
                    heart.style.setProperty('--translate-x', translateX + 'px');
                    heart.style.setProperty('--translate-y', translateY + 'px');
                    
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode) heart.remove();
                    }, 1000);
                }, i * 50);
            }
        }
    </script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π -->
    <script src="script.js"></script>
</body>
</html>